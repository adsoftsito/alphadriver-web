<motum-modal-form *ngIf="windowPosition != null" [align]="windowPosition" [hasTabs]="true" [cols]="2">
  <ng-template #modalSendInvitation let-c="close" let-d="dismiss">
      <div class="modal-header">
        <div class="motum-modal-icon">
          <i class="motum-i tm-e91a changeofpropertiesmessage"></i>
        </div>
        <h5 class="modal-title">{{ header | translate }}</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{{ content | translate }} ejemplo@bwl.com {{ contents | translate }}</p>
      </div>
      <div class="modal-footer longbutton">
        <button type="button" class="btn motum-btn-confirm button-long " (click)="c(true)">{{ accept | translate }}</button>
      </div>
  </ng-template>
  <ng-template #modalPassword let-c="close" let-d="dismiss">
      <div class="modal-header">
        <div class="motum-modal-icon">
          <i class="motum-i tm-mu tm-mensajes changeofpropertiesmessage"></i>
        </div>
        <h5 class="modal-title"> {{'pages.confirmationwindowClient.header' | translate }} </h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{{ 'pages.confirmationwindowClient.content' | translate}} {{clientModel.account.email}} {{ 'pages.confirmationwindowClient.contents' | translate}}</p>
      </div>
      <div class="modal-footer window-center-align">
        <button type="button" class="btn motum-btn-confirm button-long " (click)="c(true)">{{ 'pages.confirmationwindowClient.sendbutton' | translate}}</button>
      </div>
  </ng-template>
    <div modal-form-header>
        <div class="row" *ngIf="editar && windowPosition === 'right'">
            <div class="motum-avatar-section">
                <motum-avatar [name]="initials"
                              [type]="'NAME'"></motum-avatar>
              </div>
              <div class="motum-avatar-labelEdit">
                  <div class="name">
                    {{clientModel.commercialName}}
                  </div>
                  <div>
                    {{clientModel.businessName}}
                  </div>
            </div>
        </div>
        <div class="row" *ngIf="!editar">
            <div class="motum-avatar-section">
              <motum-avatar [name]="'motum-i tm-e932'"
                            [textColor]="'#ffffff'"
                            [bgColor]="'#6666f7'"
                            [isIconResize]="true"
                            [hasBorder]="false"
                            [type]="'ICON'"></motum-avatar>
            </div>
            <div>
              <div class="motum-avatar-labelCreate"> <!--{{ title | translate }} --> CONSULTA DE VIAJE</div>
            </div>
        </div>
    </div> <!--END MODAL-FORM-HEADER-->
    <div modal-form-content>
        <ngb-tabset  #t="ngbTabset" [justify]="'end'" [activeId]="activeTab" (tabChange)="activeTab = $event.nextId">
        <ngb-tab  id="tabPermissions" title="{{ permissions | translate }}">
                <ng-template ngbTabContent>
                    <div class="tab-content">
                        <div class="motum-content-title">
                            <div *ngIf="editar">{{ editClientTrans | translate }}</div>
                            <div *ngIf="!editar">{{ createClientTrans | translate }}</div>
                        </div>
                        <div class="row motum-content-body">
                            <div class="col-lg-12 col-md-12 col-sm-12 motum-border-left">
                              <span class="motum-w500">{{ productsPlatforms | translate }}</span>
                              <div class="motum-section-permissions">
                                <div class="row" [style.marginBottom.px]="3">
                                    <div class="col-md-6 col-sm-6">
                                      <label class="title-list-one motum-w500">{{ available | translate }}</label>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                      <label class="title-list-two motum-w500">{{ selected | translate }}</label>
                                    </div>
                                </div>
                                <dual-list class="custom-double-list" [sort]="keepSorted" [source]="source" [key]="key" [display]="display" [filter]="filter"
                                [(destination)]="confirmed" [format]="format" [disabled]="disabled"></dual-list>
                                <div class="window-section-double-space"></div>
                                  <div class="table-responsive table-style-motum">
                                    <table class="table table-striped">
                                      <thead class="thead-light">
                                        <tr class="m-0">
                                          <th class="w-25">{{ platforms | translate }}</th>
                                          <th class="w-75">{{ roles | translate }}</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr *ngFor="let item of confirmed">
                                          <td>
                                            {{item.plataform}}
                                          </td>
                                          <td>
                                            <select2 class="select2Permits"  id="selectPermits"  ngDefaultControl [options]="optionsPermits" [width]="'100%'" [cssImport]=true  required>
                                              <option *ngFor="let item2 of item.permissions">{{item2.permission}}</option>
                                            </select2>
                                          </td>
                                        </tr>
                                        <ng-template [ngIf]="confirmed.length < 1">
                                          <tr *ngFor="let item of confirmedDummi">
                                            <td>
                                              {{item.plataform}}
                                            </td>
                                            <td>
                                              <select2 class="select2Permits"  id="selectPermits"  ngDefaultControl [options]="optionsPermits" [width]="'100%'" [cssImport]=true  required>
                                                <option value=" " *ngFor="let item2 of item.permissions">{{item2.permission}}</option>
                                              </select2>
                                            </td>
                                          </tr>
                                        </ng-template>
                                      </tbody>
                                    </table>
                                  </div>
                              </div> <!--End motum-section-permissions-->
                              
                            </div>
                            
                        </div> <!--End content-body-->
                    </div>  <!--End tab-content-->
                </ng-template>

            </ngb-tab> <!-- End tabPermissions -->
            <ngb-tab  id="tabInterface" title="{{ interface | translate }}">
                <ng-template ngbTabContent>
                    <div class="tab-content">
                        <div class="motum-content-title">
                          <div *ngIf="editar">{{ editClientTrans | translate }}</div>
                          <div *ngIf="!editar">{{ createClientTrans | translate }}</div>
                        </div>
  
                        <div class="row motum-content-body">
                            <div class="col-lg-6 col-md-12 col-sm-12 motum-border-middle">
                                <span class="motum-w500">{{ regionalConfiguration | translate }}</span>
                                <div class="motum-inputs-section-flex">
                                    <div class="row motum-label-input first animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigCountry">{{ countryRegion | translate }}</label>
                                        </div>
                                        <div class="col-md-9 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.country" name="inputConfigCountry" id="inputConfigCountry" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>México</option>
                                                    <option>España</option>
                                                    <option>EUA</option>
                                                    <option>Brasil</option>
                                                </select>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigState">{{ state | translate }}</label>
                                        </div>
                                        <div class="col-md-12 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.state" name="inputConfigState" id="inputConfigState" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>Veracruz</option>
                                                    <option>Oaxaca</option>
                                                </select>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigCity">{{ city | translate }}</label>
                                        </div>
                                        <div class="col-md-12 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.city" name="inputConfigCity" id="inputConfigCity" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>Orizaba</option>
                                                    <option>Juchitán</option>
                                                </select>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="">{{ unitSystem | translate }}</label>
                                        </div>
                                        <div class="col-md-12 col-sm-12">
                                            <div class="form-group has-success has-feedback motum-btn-group">
                                                <div class="btn-group btnGroup" (click)="onButtonGroupClick($event)">
                                                    <button type="button" class="btn motum-botton">{{ metric | translate}}</button>
                                                    <button type="button" class="btn motum-botton">{{ measuresUSImperial | translate}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="">{{ measurementOfFuelConsumption | translate }}</label>
                                        </div>
                                        <div class="col-md-12 col-sm-12">
                                            <div class="form-group has-success has-feedback motum-btn-group">
                                                <div class="btn-group btnGroup" (click)="onButtonGroupClick($event)">
                                                  <button type="button" class="btn motum-botton">L/100km</button>
                                                  <button type="button" class="btn motum-botton">Km/L</button>
                                                  <button type="button" class="btn motum-botton">MPG (US)</button>
                                                  <button type="button" class="btn motum-botton">MPG (Imp)</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigDateFormat">{{ dateFormat | translate }}</label>
                                        </div>
                                        <div class="col-md-9 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.dateFormat" name="inputConfigDateFormat" id="inputConfigDateFormat" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>mm/dd/aaaa</option>
                                                    <option>dd/mm/aaaa</option>
                                                    <option>aaaa/mm/dd</option>
                                                </select>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigHourFormat">{{ hourFormat | translate }}</label>
                                        </div>
                                        <div class="col-md-9 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.timeFormat" name="inputConfigHourFormat" id="inputConfigHourFormat" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>hh:mm:ss tt</option>
                                                    <option>hh:mi:ss</option>
                                                    <option>hhmi</option>
                                                </select>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigTimeZone">{{ timeZone | translate }}</label>
                                        </div>
                                        <div class="col-md-9 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.timeZone" name="inputConfigTimeZone" id="inputConfigTimeZone" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>UTC-6 Mexico City</option>
                                                    <option>UTC–7</option>
                                                    <option>UTC-8</option>
                                                    <option>UTC-5</option>
                                                </select>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigCoin">{{ coin | translate }}</label>
                                        </div>
                                        <div class="col-md-9 col-sm-12">
                                            <div class="has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.currency" name="inputConfigCoin" id="inputConfigCoin" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>Peso Mexicano (MXN)</option>
                                                    <option>Dólar estadounidense (USD)</option>
                                                    <option>Euro (€)</option>
                                                    <option>Libra esterlina (£)</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
      
                                </div>
                            </div> <!--End first col-->
      
                            <div class="col-lg-6 col-md-12 col-sm-12 motum-second-col">
                                <div class="motum-inputs-section">
                                    <div class="motum-top-spacing-two"></div>
                                    <div class="row motum-label-input first animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigLanguage">{{ language | translate }}</label>
                                        </div>
                                        <div class="col-md-10 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.language" name="inputConfigLanguage" id="inputConfigLanguage" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>Español</option>
                                                    <option>Inglés</option>
                                                    <option>Hindi</option>
                                                    <option>Árabe</option>
                                                    <option>Portugués</option>
                                                    <option>Bengalí</option>
                                                    <option>Ruso</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="">{{ weekStartsIn | translate }}</label>
                                        </div>
                                        <div class="col-md-10 col-sm-12">
                                            <div class="has-success has-feedback motum-btn-group">
                                                <div class="btn-group btnGroup" (click)="onButtonGroupClick($event)">
                                                    <button type="button" class="btn motum-botton">{{ sunday | translate}}</button>
                                                    <button type="button" class="btn motum-botton">{{ monday | translate}}</button>
                                                    <button type="button" class="btn motum-botton">{{ saturday | translate}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="motum-top-spacing"></div>
                                    <hr class="hr">
                                   
                                </div> <!--End motum-inputs-section-->
                                <div class="motum-top-spacing-two"></div>
                                <span class="motum-w500">{{ userInterfaceConfiguration | translate }}</span>
                                <div class="motum-inputs-section">
                                    <div class="row motum-label-input first animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigInitPage">{{ homepage | translate }}</label>
                                        </div>
                                        <div class="col-md-10 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.homePage"name="inputConfigInitPage" id="inputConfigInitPage" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>Dashboard</option>
                                                    <option>monitoring-and-reaction</option>
                                                    <option>usersControl</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row motum-label-input animated fadeIn">
                                        <div class="col-md-12 motum-w500">
                                            <label for="inputConfigLogOut">{{ logOut | translate }}</label>
                                        </div>
                                        <div class="col-md-10 col-sm-12">
                                            <div class="form-group has-success motum-inputForm">
                                                <select [(ngModel)]="clientModel.interface.sessionTimeout" name="inputConfigLogOut" id="inputConfigLogOut" class="form-control input-sm" [ngModelOptions]="{standalone: true}">
                                                    <option></option>
                                                    <option>15 min</option>
                                                    <option>30 min</option>
                                                    <option>1 h</option>
                                                    <option>2 h</option>
                                                    <option>Nunca </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row col-md-12 col-sm-12 motum-label-input">
                                        <label class="container"> <span class="content">Autorizado para paro de motor</span>
                                          <input type="checkbox" (click)="checkboxStop(flagCheck1)" [checked]="flagCheck1">
                                          <span class="checkmark"></span>
                                        </label>
                                    </div>
                                </div>
                            </div> <!--End second col-->
                        </div> <!--End content-body-->
                    </div> <!--End tab-content-->
  
                  </ng-template>
  
            </ngb-tab> <!-- End tabInterface -->
        </ngb-tabset>

    </div> <!--END MODAL-FORM-CONTENT-->
    <div class="motum-floating-btns" align="right" modal-form-footer>
        <button motum-button
        [color]="'danger'"
        [outline]="true"
        routerLink="/pages/usersControl/clients-products">
        {{ cancel | translate }}
        </button>

        <button motum-button
        *ngIf="activeTab=='tabBilling' || activeTab=='tabAccount' || activeTab=='tabPermissions' || activeTab=='tabInterface'"
        (click)="activeTab=='tabInterface' ? t.select('tabPermissions'):'' || activeTab=='tabPermissions' ? t.select('tabAccount'):'' || activeTab=='tabAccount' ? t.select('tabBilling'):'' || activeTab=='tabBilling' ? t.select('tabClient'):''"
        [outline]="true"
        [color]="'grey'">{{activeTab=='tabBilling' ? (back | translate) : '' || activeTab=='tabAccount' ? (back | translate) : '' || activeTab=='tabPermissions' ? (back | translate) : '' || activeTab=='tabInterface' ? (back | translate) : ''}}</button>

        <button motum-button
        color="secondary"
        (click)="activeTab=='tabClient' ? t.select('tabBilling'):''|| activeTab=='tabBilling' ? t.select('tabAccount'):'' || activeTab=='tabAccount' ? t.select('tabPermissions'):'' || activeTab=='tabPermissions' ?  t.select('tabInterface'):'' || activeTab=='tabInterface' ?  createClient():createClient()">
        {{activeTab=='tabClient' ? (next | translate):'' || activeTab=='tabBilling' ? (next | translate):'' || activeTab=='tabAccount' ? (next | translate):'' || activeTab=='tabPermissions' ? (next | translate):'' || activeTab=='tabInterface' ? (save | translate):''}}
        </button>
  </div> <!--END MODAL-FORM-FOOTER-->
</motum-modal-form>
